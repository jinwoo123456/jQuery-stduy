<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="../common/jquery/jquery-3.7.1.js"></script>
    <script>
      /*
        on() : 기본사용법은 bind()와 동일하다. 엘리먼트에 이벤트를 부여할때
        사용한다. 단, 동적으로 생성된 엘림너트에도 이벤트를 부여할 수 있다.
        off() : on()으로 부여한 이벤트를 제거할 때 사용한다.
      */
      $(document).ready(function () {
        //버튼에 click 이벤트를 부여한다.
        //on()메소드 호출
        $("#onMethod").click(function () {
          alert("#onMethod 클릭 이벤트 발생");
        });
        //앞에서 부여한 click 이벤트를 제거한다.
        $("#offMethod").click(function () {
          alert("#onMethod 클릭 이벤트 해제");
        });
        //#div1에 click 이벤트를 부여한다.
        $("#div1").on("click", function () {
          alert("div1 클릭 이벤트 발생");
          /* after() : 선택한 엘리먼트 다음에 인수로 전달된 엘리먼트를 동적으로 추가한다.
          #div1을 선택했으므로 그 다음 부분에 <div>를 추가한다.*/
          $(this).after(
            "<div style='background-color:green;'>" +
              "동적으로 생성한 div</div>"
          );
        });
        /*div2 클래스 하위의 button 태그를 선택해서 click 이벤트를 추가한다.
        CSS#에서 학습한 모든 셀렉터를 jQuery에서 사용할 수 있다.*/
        $(".div2 button").on("click", function () {
          /*
            append() : after()와 동일하게 선택한 엘리먼트 하위의 인수로 주어진
            엘리먼트를 동적으로 추가한다. 단 여기서는 <ul>태그 하위에 <li>를
                추가한다 .after()와는 추가하는 위치가 약간 다르다.
            */
          $(".div2 ul").append("<li>추가된 li태그 추가</li>");
        });
        /*
        동적으로 생성된 (즉, 코드상으로는 존재하지 않는)엘리먼트에는 bind()를
        통해서는 이벤트를 추가할 수 없다. 핮만 on()을 이용하면 이벤트를 부여할 수 있다.*/
        //div2 클래스에 생성된 <li> 태그에 click 이벤트를 부여한다.
        $(".div2").on("click", "li", function () {
          /*
            css() : Javascript의 style 속성과 동일하게 엘리먼트의 스타일을
            변경한다. 속성을 기술하는 방식은 JS와 동일하다. 하이픈은 제거하고
            첫번째 글자를 대문자로 기술하면 된다.
            */
          $(this)
            .css("color", "red")
            .css("font-weight", "bold")
            .css("font-size", "1.8em");
        });
      });
    </script>
    <style>
      div {
        width: 200px;
        height: 50px;
        margin: 20px;
      }
    </style>
  </head>
  <body>
    <h2>on()/off() 메소드</h2>
    <div id="div1" style="background-color: red">
      미리 생성한 div(요기를 눌러보삼)
    </div>
    <button id="onMethod">on()메소드 호출</button>
    <button id="offMethod">off()메소드 호출</button>
    <!-- div2 클래스 하위의 button 태그를 선택해서 click 이벤트를 추가한다.
     CSS#에서 학습한 모든 셀렉터를 jQuery에서 사용할 수 있다. -->
    <div class="div2">
      <button>아이템 추가하기</button>
      <ul>
        <li>기존아이템1</li>
        <li>기존아이템2</li>
      </ul>
    </div>
  </body>
</html>
